{% extends "bootstrap/base.html" %}
{% block title %}Idea Shop Portal{% endblock %}
{% block head %}
    {{ super() }}
    {{ fontawesome_html() }}
    <link rel="icon" href="data:,">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="{{url_for('public.custom_css')}}">
    <script src="{{ url_for('public.animation_js') }}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha512-z4OUqw38qNLpn1libAN9BsoDx6nbNFio5lA6CuTp9NlK83b89hgyCVq+N5FdBJptINztxn1Z3SaKSKUS5UP60Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
{% endblock %}

{% block navbar %}
    <nav class="navbar navbar-expand-lg navbar-light">
        <a class="navbar-brand" href="{{ url_for('public.index') }}">
            <div class="logo-drawing container">
                <svg style="min-height: 2em; max-width: 150px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 457.96 126.12"><defs><style>.cls-1{stroke-width: 1.5px; stroke: dimgrey}</style></defs><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><path style="fill:none;" class="cls-1" d="M404.05,70.62c6.51-.69,13.1-.59,19.67-1.34L404.13,68.1c0-.29,0-.57-.05-.86,1.86-1,4-.46,6-.71,2.22-.27,4.46-.29,6.7-.42a52.62,52.62,0,0,0,6.45-.66c-3-.21-6-.46-9-.63-.81,0-1.7-.35-1.7-1s.77-.53.77-.53l11.24.81c3.81.27,7.63.5,11.44.82a4.56,4.56,0,0,1,1.5.74,5.88,5.88,0,0,1-1.63.64c-5.32.37-10.64.67-16,1.26l14.63.87c2.09.13,4.18.19,6.26.4a6.87,6.87,0,0,1,1.91.76,7.43,7.43,0,0,1-1.86.63c-4.53.24-9.08.4-13.62.61a22.16,22.16,0,0,0-3.86.49l22.72,1.21c0,.3,0,.6.05.9a8.35,8.35,0,0,1-1.8.41c-6.13.12-12.25.18-18.37.29-2.24,0-4.76-.42-6.64.44-4.54,2.08-9,.21-13.49.57a2.17,2.17,0,0,1-1.69-.79c6.93-.91,13.87-1,20.81-1.49l-20.86-1.17C404.06,71.35,404.05,71,404.05,70.62Zm30.47,10.6-.41,0a9.13,9.13,0,0,1,.3,1.54c0,6.27-4.55,10-11.92,10a20.64,20.64,0,0,1-4.64-.37V82.84H404.1v42.28h13.75V103.19a35.23,35.23,0,0,0,4.73.27c8.18,0,15.19-2,19.92-6.46,3.64-3.46,5.65-8.55,5.65-14.56,0-.42-.11-.81-.14-1.22Zm-3.83-5.72c1.21.61,2.41,1.7,3.64,1.74,3.51.12,7-.17,10.56-.34a12.83,12.83,0,0,0,1.91-.36c0-.31,0-.63,0-1L431,74.83Zm-12.48,5.2a5.64,5.64,0,0,0-.07-.79H404.06V81l14,.77A8.5,8.5,0,0,0,418.21,80.7Zm-14.09-2.39,14,.69V77.08H404.2Zm29.73.08c-.09,1.87.84,2.22,2.3,2.15,3.43-.15,6.88-.2,10.31-.32a12.44,12.44,0,0,0,1.71-.28l0-.81A111.93,111.93,0,0,0,433.85,78.39ZM11.16,125.12H25.08V63.79H11.16ZM91.32,93c0,11.74-4.28,19.84-10.19,24.84-6.46,5.37-16.29,7.92-28.3,7.92a121,121,0,0,1-15.74-.91V64.61a123.63,123.63,0,0,1,18.74-1.28c11.65,0,19.2,2.1,25.12,6.55C87.32,74.62,91.32,82.17,91.32,93Zm-14.74.45C76.67,80.71,69.21,74,57.29,74a29.24,29.24,0,0,0-6.28.54v40.14a25.85,25.85,0,0,0,4.82.27C68.39,115,76.58,108.1,76.58,93.45Zm61.69-18.29V63.79H100.41v61.33h39.13V113.74H114.33V99.19H136.9V87.9H114.33V75.16Zm43.21-11.37,19,61.33H185.58l-4.73-15.74H163.28l-4.36,15.74H144.54l18.74-61.33ZM178.84,99,175,86c-1.09-3.64-2.18-8.19-3.09-11.83h-.18c-.92,3.64-1.83,8.28-2.82,11.83l-3.65,13ZM250.9,88.72c-7.92-3-11.38-4.73-11.38-8.64,0-3.19,2.92-5.92,8.92-5.92a29.16,29.16,0,0,1,12.83,2.91l3.1-11.19a37.58,37.58,0,0,0-15.66-3.09c-14.46,0-23.2,8-23.2,18.47,0,8.92,6.64,14.56,16.84,18.11,7.37,2.64,10.28,4.82,10.28,8.64,0,4-3.37,6.65-9.74,6.65a35.42,35.42,0,0,1-15.38-3.83l-2.82,11.47c3.46,1.91,10.38,3.73,17.38,3.73,16.84,0,24.75-8.73,24.75-19C266.82,98.37,261.73,92.73,250.9,88.72Zm62-1.36H290.11V63.79H276.19v61.33h13.92V99.46H313v25.66h13.83V63.79H313ZM395,93.82c0,20.11-12.2,32.3-30.12,32.3-18.2,0-28.85-13.74-28.85-31.21,0-18.38,11.74-32.12,29.85-32.12C384.74,62.79,395,76.89,395,93.82Zm-14.65.45c0-11-5.28-20.47-14.84-20.47-9.37,0-14.83,8.92-14.83,20.84s5.64,20.47,14.93,20.47S380.37,106.19,380.37,94.27Zm53-78.71V0H393.28V15.56H0V26.4H393.28V49.49h10.34v2.82h2.77l6.95,11,6.94-11h2.77V49.49h10.34V26.4H458V15.56Z"/></g></g></svg>
            </div>

        </a>
        <button class="navbar-toggler" style="background: grey" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" style="font-weight: bold" id="navbarNavAltMarkup" >
            <div class="navbar-nav">
                <a class="nav-item nav-link" href="{{ url_for('userflow.training_interface') }}" {% if not session['sid'] %} hidden="true" {% endif %}>Safety Training</a>
            {% if session['admin'] %}
                <a class="nav-item nav-link" href="{{ url_for('reservation.view_reservations') }}" {% if not session['sid'] %} hidden="true" {% endif %}>View Reservations</a>
            {%  endif %}
                <a class="nav-item nav-link" href="{{ url_for('public.shop_status') }}">Shop Status</a>
            </div>
            <div class="navbar-nav ml-auto">
                <a class="btn btn-info nav-item nav-link" target="_blank" rel="noopener noreferrer" style="margin-right: 2mm; font-weight: bold" href="https://wiki.ideashop.iit.edu">Idea Shop Wiki <i class="bi bi-box-arrow-up-right"></i></a>
                {% if session['sid'] %}
                    <div class="btn-group">
                        <button type="button" style="color: black; font-weight: bold" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            {% if session['name'] %}
                                {{ session['name'] }}
                            {% endif %}
                        </button>
                        <div class="dropdown-menu dropdown-menu-right">
                            <div class="card">
                                <h5 class="card-text">Hello, {{ session['name'] }}</h5>
                                {% if session['major'] %}<p class="card-text flex-nowrap">{{ session['major'] }}</p>{% endif %}
                                <p class="card-text flex-nowrap">{{ session['email'] }}</p>
                                <p class="card-text flex-nowrap">A{{ session['sid'] }}</p>

                            </div>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="{{ url_for('auth.logout') }}"> Log Out <i class="fas fa-sign-out-alt"></i></a>
                        </div>
                    </div>
                {% else %}
                    <a class="btn btn-info nav-item nav-link" href="{{ url_for('auth.login') }}"> Log In <i class="bi bi-box-arrow-in-left"></i></a>
                {% endif %}
            </div>
        </div>
        </div>
    </nav>
{% endblock %}
{% block content %}
    <div class="container-fluid container-full-width">
        {% if config['DEV'] == 'True' %}<div class="alert alert-warning" role="alert" style="font-size: 2em; text-align: center;"><i class="bi bi-cone-striped"></i>This is a development site meant for Idea Shop staff & beta testers only. All changes are non-persistent.<i class="bi bi-cone-striped"></i></div>{% endif %}
        {% with messages = get_flashed_messages(with_categories=True) %}
            {% for category, message in messages %}
                <div class="alert {% if category %}alert-{{ category }}{% endif %} alert-dismissible" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    {{ message }}
                </div>
            {% endfor %}
        {% endwith %}
        {% block page %}{% endblock %}
    </div>
{% endblock %}